slots:
  '0':
    name: slot1
    type:
      events: [ ]
      methods: [ ]
  '1':
    name: slot2
    type:
      events: [ ]
      methods: [ ]
  '2':
    name: slot3
    type:
      events: [ ]
      methods: [ ]
  '3':
    name: slot4
    type:
      events: [ ]
      methods: [ ]
  '4':
    name: slot5
    type:
      events: [ ]
      methods: [ ]
  '5':
    name: slot6
    type:
      events: [ ]
      methods: [ ]
  '6':
    name: slot7
    type:
      events: [ ]
      methods: [ ]
  '7':
    name: slot8
    type:
      events: [ ]
      methods: [ ]
  '8':
    name: slot9
    type:
      events: [ ]
      methods: [ ]
  '9':
    name: slot10
    type:
      events: [ ]
      methods: [ ]
  "-1":
    name: unit
    type:
      events: [ ]
      methods: [ ]
  "-2":
    name: system
    type:
      events: [ ]
      methods: [ ]

handlers:
  - key: '0'
    filter:
      args: [ ]
      signature: start()
      slotKey: '-1'
    code: |
      local intervalDuration = 0.469 --export: The duration of each interval in seconds.
      local idleState = false --export: The state of the lights when the script has shutdown.

      -- PASTE SEQUENCE HERE. Replace {} with the output from the extractor.
      local sequence = {}


      local Main = require('custom/light-controller/sequencer')
      sequencer = Main(unit, sequence, intervalDuration, idleState)
      sequencer.onStart()

      unit.hide()
      unit.setTimer("garbage", 5)

  - key: '1'
    filter:
      args: [ ]
      signature: update()
      slotKey: '-2'
    code: |
      sequencer.onTick()

  - key: '2'
    filter:
      args: [ ]
      signature: stop()
      slotKey: '-1'
    code: |
      sequencer.onStop()

  - key: '3'
    filter:
      args:
        - value: garbage
      signature: tick(timerId)
      slotKey: '-1'
    code: |
      collectgarbage("collect")

methods: [ ]
events: [ ]
